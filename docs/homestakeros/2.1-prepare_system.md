# 2.1 Prepare the System

This guide covers all the preparatory work needed on your local machine before configuring and deploying HomestakerOS.

## Prerequisites

- A machine running any Linux as the underlying fallback operating system
- A drive for storing blockchain data and secret files
- Basic knowledge of Linux command line

## Storage Preparation

> **Important:** Proper storage setup is critical for your node's performance and data integrity.

First, we need to prepare storage for your node:

1. **Check available drives and partitions**:

   ```bash
   lsblk -e7
   ```

   This command displays all drives and partitions.
Identify your target drive (e.g., `nvme0n1`).

2. **Format the target drive**:

   ```bash
   mkfs.ext4 -L homestaker /dev/nvme0n1
   ```

   This formats `/dev/nvme0n1` with a filesystem and the label "homestaker".

3. **Mount the drive and create the necessary directories**:

   ```bash
   mkdir -p /mnt/nvme
   mount /dev/nvme0n1 /mnt/nvme
   mkdir -p /mnt/nvme/{secrets,erigon,lighthouse}
   ```

## Secret Files Setup

> **Note:** In future versions of HomestakerOS, we are implementing [wirenix](https://man.sr.ht/~msalerno/wirenix/) and [agenix-rekey](https://github.com/oddlama/agenix-rekey), which will automatically generate secrets and create a wireguard mesh between nodes without manual configuration.

### JWT Secret

A JWT secret is essential to authenticate the connection between your beacon node and execution node:

1. **Generate the JWT**:

   ```bash
   openssl rand -hex 32 | tr -d "\n" > "/mnt/nvme/secrets/jwt.hex"
   ```

### SSH Directory

Set up the SSH directory structure for host keys:

1. **Create the SSH directory**:

   ```bash
   mkdir -p /mnt/nvme/secrets/ssh
   ```

## Next Steps

After preparing your system with the necessary filesystem and secrets, proceed to:

- [Configure and Deploy](2.2-configure_deploy.md) to set up your node using the HomestakerOS Web UI
- If you plan to use a VPN, consider preparing for [WireGuard VPN Setup](3.1-wireguard_vpn.md)
