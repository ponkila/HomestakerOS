# 3.2 SSV Node Setup

This guide explains how to set up an SSV (Secret Shared Validator) node with HomestakerOS. The [ssv.network](https://ssv.network/overview/) is a fully decentralized, open-source, and trustless DVT Network that provides infrastructure for decentralizing Ethereum validators.

## Prerequisites

- A working HomestakerOS node (see [Configure and Deploy](2.2-configure_deploy.md))
- Some ETH and SSV tokens for operator registration and maintenance
- MetaMask wallet for operator registration

> **Tip:** ðŸ’¡ Alternatively, for operator keys generation and registration, you can follow the [SSV Network Instructions](https://ssv-network.gitbook.io/guides/operator/registering-an-operator).

## Generate SSV Operator Keys

The following steps should be performed directly on your HomestakerOS node:

1. **Create the SSV directory**:
   ```bash
   mkdir -p /mnt/nvme/addons/ssv
   cd /mnt/nvme/addons/ssv
   ```
2. **Generate a key pair**:
   ```bash
   nix run github:ponkila/HomestakerOS#init-ssv -- <MY_OPERATOR_PASSWORD>
   ```
  This command will generate three files: a `password` file containing your password, an encrypted private key in `ssv_operator_key`, and a `public key in `ssv_operator_key.pub`. You'll need the public key for registration.

## Register as an SSV Operator

You need to register your SSV node as an operator on the SSV network. You can do this directly through the HomestakerOS Web UI:

1. **Access the Web UI**:
   - Start the backend and go to [https://homestakeros.com/](https://homestakeros.com/)
   - Set the flake URI and load your configurations

2. **Navigate to the SSV registration page**:
   - Connect to your MetaMask account
   - Select the network in MetaMask
   - Enter the public key (the value within the "pk" field from the generated output)
   - Enter the daily fee
   - Choose whether the operator will be private or public
   - Click the 'Register' button
   - Confirm the transaction in MetaMask

3. **Verify registration**:
   - A transaction link will appear in the UI
   - Once the transaction is completed, the new operator will appear on SSV.Network

## Configure SSV Node in the Web UI

Now that your operator is registered, configure your SSV node:

1. **Access the configuration tab**:
   - Go to the 'NixOS config' tab
   - Select your node from the list or create a new one

2. **Configure SSV-Node**:
   - In the Add-ons section, find SSV-Node
   - Set `enable` to `true`
   - Set `dataDir` to `/mnt/nvme/addons/ssv`
   - Set `privateKeyFile` to `/mnt/nvme/addons/ssv/ssv_operator_key`
   - Set `privateKeyPasswordFile` to `/mnt/nvme/addons/ssv/password`
   - Set any additional options as needed

3. **Save and build**:
   - Click the 'Save' button
   - Click the `#BUIDL` button to build your updated configuration
   - Download the boot media and deploy to your node

## Verifying Your SSV Node

After deployment, verify that your SSV node is running correctly:

1. **Check the service status**:
   ```bash
   systemctl status ssv-node.service
   ```

2. **View the logs**:
   ```bash
   journalctl -fu ssv-node.service
   ```

3. **Check operator performance**:
   - Return to the SSV Explorer and find your operator
   - Verify that it shows as active and is performing duties

## Additional Resources

- [SSV Network Documentation](https://ssv.network/documentation/)
- [Operator Guide](https://ssv-network.gitbook.io/guides/operator)
- [SSV Network Discord](https://discord.gg/invite/ssvnetwork)
